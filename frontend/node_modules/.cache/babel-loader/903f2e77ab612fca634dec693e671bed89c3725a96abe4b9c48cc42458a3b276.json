{"ast":null,"code":"import React from\"react\";import{useState,useEffect}from\"react\";import{MultiSelect}from\"react-multi-select-component\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FilterDropDown=props=>{const[options,setOptions]=useState([]);const[selected,setSelected]=useState([]);const column=props.column;useEffect(()=>{const curr_options=options;let options_array=props.items.map(obs=>obs[column.name]);options_array=[...new Set(options_array)];const new_options=options_array.map(opt=>({label:opt,value:opt}));setOptions(new_options);console.log(\"if selected all\");console.log(selected);console.log(curr_options);if(props.obs_filtered.length===0||new Set(selected)===new Set(curr_options)){setSelected(new_options);}},[props.items]);useEffect(()=>{props.setFilterFormSelected(column.name,selected);},[selected,items]);return/*#__PURE__*/_jsxs(\"div\",{className:\"obs-filter form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\".concat(column.name,\"-bs-select\"),children:column.label}),/*#__PURE__*/_jsx(MultiSelect,{options:options,value:selected,onChange:setSelected,labelledBy:\"Select\"})]},column.name);};export default FilterDropDown;","map":{"version":3,"names":["React","useState","useEffect","MultiSelect","jsx","_jsx","jsxs","_jsxs","FilterDropDown","props","options","setOptions","selected","setSelected","column","curr_options","options_array","items","map","obs","name","Set","new_options","opt","label","value","console","log","obs_filtered","length","setFilterFormSelected","className","children","htmlFor","concat","onChange","labelledBy"],"sources":["C:/Users/Phil Work/Documents/Coding Projects HD/ProcorePython/frontend/src/issues/Table/toolbar/FilterDropDown.js"],"sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { MultiSelect } from \"react-multi-select-component\";\n\n\nconst FilterDropDown = (props) => {\n  const [options, setOptions] = useState([]);\n  const [selected, setSelected] = useState([]);\n\n  const column = props.column;\n\n  useEffect(() => {\n    const curr_options = options\n    let options_array = props.items.map((obs) => obs[column.name]);\n    options_array = [...new Set(options_array)];\n    const new_options = options_array.map((opt) => ({\n      label: opt,\n      value: opt,\n    }));\n    setOptions(new_options);\n    console.log(\"if selected all\")\n    console.log(selected)\n    console.log(curr_options)\n    if(props.obs_filtered.length===0 || new Set(selected) === new Set(curr_options)){\n      setSelected(new_options)\n    }\n  }, [props.items]);\n\n\n  useEffect(() => {\n    props.setFilterFormSelected(column.name, selected);\n  }, [selected, items]);\n\n  return (\n    <div key={column.name} className=\"obs-filter form-group\">\n      <label htmlFor={`${column.name}-bs-select`}>{column.label}</label>\n      {/* <select className='form-control' multiple id={`${column.name}-bs-select`} data-actions-box=\"true\" name={column.name}>\n      { options.map((opt) => <option value={opt}>{opt}</option>) }\n      </select> */}\n      <MultiSelect\n        options={options}\n        value={selected}\n        onChange={setSelected}\n        labelledBy=\"Select\"\n      />\n    </div>\n  );\n};\n\n\nexport default FilterDropDown\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,WAAW,KAAQ,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAG3D,KAAM,CAAAC,cAAc,CAAIC,KAAK,EAAK,CAChC,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACW,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAE5C,KAAM,CAAAa,MAAM,CAAGL,KAAK,CAACK,MAAM,CAE3BZ,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,YAAY,CAAGL,OAAO,CAC5B,GAAI,CAAAM,aAAa,CAAGP,KAAK,CAACQ,KAAK,CAACC,GAAG,CAAEC,GAAG,EAAKA,GAAG,CAACL,MAAM,CAACM,IAAI,CAAC,CAAC,CAC9DJ,aAAa,CAAG,CAAC,GAAG,GAAI,CAAAK,GAAG,CAACL,aAAa,CAAC,CAAC,CAC3C,KAAM,CAAAM,WAAW,CAAGN,aAAa,CAACE,GAAG,CAAEK,GAAG,GAAM,CAC9CC,KAAK,CAAED,GAAG,CACVE,KAAK,CAAEF,GACT,CAAC,CAAC,CAAC,CACHZ,UAAU,CAACW,WAAW,CAAC,CACvBI,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC,CAC9BD,OAAO,CAACC,GAAG,CAACf,QAAQ,CAAC,CACrBc,OAAO,CAACC,GAAG,CAACZ,YAAY,CAAC,CACzB,GAAGN,KAAK,CAACmB,YAAY,CAACC,MAAM,GAAG,CAAC,EAAI,GAAI,CAAAR,GAAG,CAACT,QAAQ,CAAC,GAAK,GAAI,CAAAS,GAAG,CAACN,YAAY,CAAC,CAAC,CAC9EF,WAAW,CAACS,WAAW,CAAC,CAC1B,CACF,CAAC,CAAE,CAACb,KAAK,CAACQ,KAAK,CAAC,CAAC,CAGjBf,SAAS,CAAC,IAAM,CACdO,KAAK,CAACqB,qBAAqB,CAAChB,MAAM,CAACM,IAAI,CAAER,QAAQ,CAAC,CACpD,CAAC,CAAE,CAACA,QAAQ,CAAEK,KAAK,CAAC,CAAC,CAErB,mBACEV,KAAA,QAAuBwB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACtD3B,IAAA,UAAO4B,OAAO,IAAAC,MAAA,CAAKpB,MAAM,CAACM,IAAI,cAAa,CAAAY,QAAA,CAAElB,MAAM,CAACU,KAAK,CAAQ,CAAC,cAIlEnB,IAAA,CAACF,WAAW,EACVO,OAAO,CAAEA,OAAQ,CACjBe,KAAK,CAAEb,QAAS,CAChBuB,QAAQ,CAAEtB,WAAY,CACtBuB,UAAU,CAAC,QAAQ,CACpB,CAAC,GAVMtB,MAAM,CAACM,IAWZ,CAAC,CAEV,CAAC,CAGD,cAAe,CAAAZ,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
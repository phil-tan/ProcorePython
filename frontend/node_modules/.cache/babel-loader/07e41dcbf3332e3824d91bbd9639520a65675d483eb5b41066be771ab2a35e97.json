{"ast":null,"code":"import React,{useState,useEffect}from'react';import withRouter from'../shared/withRouter';import NavBar from'../shared/NavBar';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ActivitiesListTable=props=>{const[project,setProject]=useState({});const[activities,setActivities]=useState([]);const[loading,setLoading]=useState(true);const[searchTerm,setSearchTerm]=useState('');const handleChange=event=>{setSearchTerm(event.target.value);};const filtered=activities.filter(item=>item.description.toLowerCase().includes(searchTerm.toLowerCase()));useEffect(()=>{fetch(\"/api/projects/\".concat(props.params.project_id)).then(r=>r.json()).then(data=>setProject(data));fetch(\"/api/projects/\".concat(props.params.project_id,\"/a\")).then(r=>r.json()).then(data=>setActivities(data)).then(setLoading(false));},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsx(\"strong\",{children:Object.keys(project).length>0?\"\".concat(project.name):''})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h2\",{children:\"Your Activities\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",placeholder:\"Search...\",value:searchTerm,onChange:handleChange})}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Activity\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Summary\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Download\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filtered.map(activity=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:activity[\"inspection_date\"]}),/*#__PURE__*/_jsx(\"td\",{children:activity[\"name\"]}),/*#__PURE__*/_jsx(\"td\",{children:activity[\"description\"]}),/*#__PURE__*/_jsx(\"td\",{children:activity[\"summary\"]}),/*#__PURE__*/_jsx(\"td\",{children:activity[\"status\"]}),/*#__PURE__*/_jsx(\"td\",{children:activity[\"download\"]})]}))})]})]})]});};export default withRouter(ActivitiesListTable);","map":{"version":3,"names":["React","useState","useEffect","withRouter","NavBar","jsx","_jsx","jsxs","_jsxs","ActivitiesListTable","props","project","setProject","activities","setActivities","loading","setLoading","searchTerm","setSearchTerm","handleChange","event","target","value","filtered","filter","item","description","toLowerCase","includes","fetch","concat","params","project_id","then","r","json","data","children","className","Object","keys","length","name","type","placeholder","onChange","scope","map","activity"],"sources":["C:/Users/Phil Work/Documents/Coding Projects HD/ProcorePython/frontend/src/activities/ActivitiesListTable.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport withRouter from '../shared/withRouter';\r\nimport NavBar from '../shared/NavBar';\r\n\r\nconst ActivitiesListTable = (props) => {\r\n   const [project, setProject] = useState({})\r\n   const [activities, setActivities] = useState([])\r\n   const [loading, setLoading] = useState(true)\r\n   const [searchTerm, setSearchTerm] = useState('');\r\n\r\n   const handleChange = (event) => {\r\n      setSearchTerm(event.target.value);\r\n    };\r\n  \r\n    const filtered = activities.filter(item =>\r\n      item.description.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n\r\n   useEffect(() => {\r\n      fetch(`/api/projects/${props.params.project_id}`).then((r)=>r.json()).then((data)=>setProject(data))\r\n      fetch(`/api/projects/${props.params.project_id}/a`).then(\r\n               (r)=>r.json()).then((data)=>setActivities(data)).then(setLoading(false))\r\n   }, []);\r\n\r\n   return (\r\n      <div>\r\n      <NavBar />\r\n    <div className='container'>\r\n    <h3><strong>{Object.keys(project).length > 0 ? `${project.name}`:  ''}</strong></h3>\r\n    <br></br>\r\n    <h2>Your Activities</h2>\r\n    <br></br>\r\n    <div className='form-group'>\r\n       <input\r\n        className='form-control'\r\n         type=\"text\"\r\n         placeholder=\"Search...\"\r\n         value={searchTerm}\r\n         onChange={handleChange}\r\n       />\r\n    </div>\r\n    <table className=\"table table-striped\">\r\n      <thead className=\"table-dark\">\r\n        <tr>\r\n          <th scope=\"col\">Date</th>\r\n          <th scope=\"col\">Activity</th>\r\n          <th scope=\"col\">Title</th>\r\n          <th scope=\"col\">Summary</th>\r\n          <th scope=\"col\">Status</th>\r\n          <th scope=\"col\">Download</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n      {filtered.map((activity)=>\r\n        <tr>\r\n          <td>{activity[\"inspection_date\"]}</td>\r\n          <td>{activity[\"name\"]}</td>\r\n          <td>{activity[\"description\"]}</td>\r\n          <td>{activity[\"summary\"]}</td>\r\n          <td>{activity[\"status\"]}</td>\r\n          <td>{activity[\"download\"]}</td>\r\n        </tr>\r\n    )}\r\n      </tbody>\r\n    </table>\r\n    </div>\r\n\r\n    </div>\r\n   )\r\n\r\n   \r\n}\r\n\r\nexport default withRouter(ActivitiesListTable)"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React from\"react\";import TableRow from\"./TableRow\";import withRouter from\"../../shared/withRouter\";// import TableColumnHead from \"./TableColumnHead\";\nimport{table_columns}from\"./columns\";import{useState,useEffect}from\"react\";import'../issues.css';import{sortList}from\"./helpers\";//Table columns   `   \nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const TableSection=props=>{console.log('showing table');console.log(props.showItems.length);console.log(props.itemFieldOptions);return/*#__PURE__*/_jsx(_Fragment,{children:props.showItems.length>0?/*#__PURE__*/_jsxs(\"table\",{className:\"obs-table table\",children:[/*#__PURE__*/_jsx(TableHeaderRow,{columns:props.columns,sortedItems:props.sortedItems,setSortedItems:props.setSortedItems}),/*#__PURE__*/_jsx(\"tbody\",{children:props.showItems.map(item=>{return/*#__PURE__*/_jsx(TableRow,{columns:props.columns,item:item,show_photos:false,itemFieldOptions:props.itemFieldOptions,setChangedIssue:props.setChangedIssue},item.id);})})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h5\",{children:\"No items to show \"})]})});};export default withRouter(TableSection);const TableHeaderRow=props=>{const[if_desc,setSortDesc]=useState(true);const headerClick=e=>{setSortDesc(!if_desc);console.log(e.target.id);console.log(if_desc);const new_list=sortList(props.sortedItems,e.target.id,if_desc);props.setSortedItems(new_list);};return/*#__PURE__*/_jsx(\"thead\",{className:\"thead-dark\",children:/*#__PURE__*/_jsx(\"tr\",{children:props.columns.map(col=>/*#__PURE__*/_jsx(\"th\",{scope:\"col\",style:{width:col.width,color:\"white\",backgroundColor:\"darkblue\"},className:\"obs-header-row \".concat(col.className),children:/*#__PURE__*/_jsx(\"div\",{id:col?col.name:\"\",onClick:headerClick,children:col?col.label:\"\"})}))})});};{/* <div id=\"obs-log\" >\n<h3>\n  <strong>{Object.keys(project).length > 0 ? `${project.name} - Issues Log`:  ''}</strong>\n</h3>\n<p>\n  <strong>Date Printed: </strong>\n  {`${new Date()}`}\n</p>\n{loading ? (\n  <LoadingSpinner />\n) : (\n   <table className=\"table table-striped\">\n   <thead className=\"table-dark\">\n     <tr>\n       <th scope=\"col\">Project</th>\n       <th scope=\"col\">Name</th>\n       <th scope=\"col\">Issues</th>\n       <th scope=\"col\">Address</th>\n       <th scope=\"col\">Start</th>\n       <th scope=\"col\">Completion</th>\n       <th scope=\"col\">Company</th>\n     </tr>\n   </thead>\n   <tbody>\n   {issues.map((issue)=>\n     <tr>\n       <td>{issue[\"number\"]}</td>\n       <td>{issue[\"item_date\"]}</td>\n       <td>{issue[\"name\"]}</td>\n       <td>{issue[\"description\"]}</td>\n       <td>placeholder</td>\n       <td>{issue[\"action_by\"]}</td>\n       <td>{issue[\"status\"]}</td>\n     </tr>\n )}\n   </tbody>\n </table>\n)}\n</div> */}","map":{"version":3,"names":["React","TableRow","withRouter","table_columns","useState","useEffect","sortList","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TableSection","props","console","log","showItems","length","itemFieldOptions","children","className","TableHeaderRow","columns","sortedItems","setSortedItems","map","item","show_photos","setChangedIssue","id","if_desc","setSortDesc","headerClick","e","target","new_list","col","scope","style","width","color","backgroundColor","concat","name","onClick","label"],"sources":["C:/Users/Phil Work/Documents/Coding Projects HD/ProcorePython/frontend/src/issues/Table/TableSection.jsx"],"sourcesContent":["import React from \"react\";\nimport TableRow from \"./TableRow\";\nimport withRouter from \"../../shared/withRouter\";\n// import TableColumnHead from \"./TableColumnHead\";\nimport { table_columns } from \"./columns\";\nimport { useState, useEffect } from \"react\";\nimport '../issues.css'\nimport { sortList } from \"./helpers\";\n\n//Table columns   `   \n\nconst TableSection = (props) => {\n  console.log('showing table')\n  console.log(props.showItems.length)\n  console.log(props.itemFieldOptions)\n\n  return (\n    <>\n      {props.showItems.length > 0 ? (\n        <table className=\"obs-table table\">\n        <TableHeaderRow columns={props.columns} sortedItems={props.sortedItems} setSortedItems={props.setSortedItems} />\n          <tbody>\n            {props.showItems.map((item) => {\n              return (\n                <TableRow columns={props.columns} key={item.id} item={item} show_photos={false} \n                itemFieldOptions={props.itemFieldOptions} setChangedIssue={props.setChangedIssue}\n                />\n              );\n            })}\n          </tbody>\n        </table>\n      ) : (\n        <div>\n          <hr></hr>\n          <h5>No items to show </h5>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default withRouter((TableSection));\n\n\nconst TableHeaderRow = (props) => {\n  const [if_desc, setSortDesc] = useState(true);\n\n  const headerClick = (e) => {\n    setSortDesc(!if_desc);\n    console.log(e.target.id)\n    console.log(if_desc)\n    const new_list = sortList(props.sortedItems, e.target.id, if_desc)\n    props.setSortedItems(new_list)\n  };\n\n  return (\n    <thead className='thead-dark'>\n      <tr>\n      {props.columns.map((col) => (\n      <th\n        scope=\"col\"\n        style={{ width: col.width, color: \"white\", backgroundColor: \"darkblue\"}}\n        className={`obs-header-row ${col.className}`}\n      >\n        <div id={col ? col.name : \"\"} onClick={headerClick}>\n          {col ? col.label : \"\"}\n        </div>\n      </th>\n      ))}\n      </tr>\n    </thead>\n  );\n};\n\n{/* <div id=\"obs-log\" >\n<h3>\n  <strong>{Object.keys(project).length > 0 ? `${project.name} - Issues Log`:  ''}</strong>\n</h3>\n<p>\n  <strong>Date Printed: </strong>\n  {`${new Date()}`}\n</p>\n{loading ? (\n  <LoadingSpinner />\n) : (\n   <table className=\"table table-striped\">\n   <thead className=\"table-dark\">\n     <tr>\n       <th scope=\"col\">Project</th>\n       <th scope=\"col\">Name</th>\n       <th scope=\"col\">Issues</th>\n       <th scope=\"col\">Address</th>\n       <th scope=\"col\">Start</th>\n       <th scope=\"col\">Completion</th>\n       <th scope=\"col\">Company</th>\n     </tr>\n   </thead>\n   <tbody>\n   {issues.map((issue)=>\n     <tr>\n       <td>{issue[\"number\"]}</td>\n       <td>{issue[\"item_date\"]}</td>\n       <td>{issue[\"name\"]}</td>\n       <td>{issue[\"description\"]}</td>\n       <td>placeholder</td>\n       <td>{issue[\"action_by\"]}</td>\n       <td>{issue[\"status\"]}</td>\n     </tr>\n )}\n   </tbody>\n </table>\n)}\n</div> */}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
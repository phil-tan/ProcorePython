{"ast":null,"code":"import React,{useState}from\"react\";import{standardizeFontSize,format_date}from\"../../shared/functions\";// import ReactDOMServer from \"react-dom/server\";\n// import { Html } from \"react-pdf-html\";\nimport withRouter from\"../../shared/withRouter\";import{table_columns}from\"./columns\";import{cellColorClass}from\"./helpers\";import EditForm from\"./EditForm.jsx\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const TableCell=props=>{const[editMode,setEditMode]=useState(false);let div=/*#__PURE__*/_jsx(\"tr\",{children:\"TableCell\"});// return(div)\nconsole.log(props.itemFieldOptions);switch(props.field){case\"number\":div=/*#__PURE__*/_jsx(\"th\",{scope:\"row\",className:\"text-center\",children:props.item.loading?/*#__PURE__*/_jsx(\"span\",{className:\"spinner-grow text-primary\"}):/*#__PURE__*/_jsx(\"a\",{href:\"https://us02.procore.com/\".concat(props.params.project_id,\"/project/observations/items/\").concat(props.item.id,\"/edit\"),target:\"_blank\",children:props.item.number})},\"number\");break;case\"item_date\":div=/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:props.item.item_date},\"item_date\");break;case\"description\":div=/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(EditForm,{item:props.item,text:/*#__PURE__*/_jsx(\"strong\",{children:props.item.name}),function:\"edit\",origin_form:\"\",itemFieldOptions:props.itemFieldOptions}),/*#__PURE__*/_jsx(\"div\",{className:\"text-justify\",dangerouslySetInnerHTML:{__html:standardizeFontSize(props.item.description)}}),/*#__PURE__*/_jsxs(\"p\",{children:[props.item.attachments.length>0?\"|| \":\"\",props.item.attachments.map(att=>{return/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"a\",{href:att.url,target:\"_blank\",rel:\"noreferrer\",children:att.name}),\",\",\" \"]});})]})]},\"description\");break;case\"responses\":div=/*#__PURE__*/_jsx(\"td\",{children:props.item.responses.map(res=>{return res?/*#__PURE__*/_jsx(\"div\",{className:\"comment-div text-justify\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:format_date(res.created_at)}),\" \",/*#__PURE__*/_jsx(\"i\",{children:res.created_by.name}),\": \",res.comment,\".\",\" \",res.attachments.map(att=>/*#__PURE__*/_jsxs(\"span\",{children:[\"| \",/*#__PURE__*/_jsx(\"a\",{href:att.url,children:att.name}),\" \"]}))]})}):/*#__PURE__*/_jsx(_Fragment,{});})},\"responses\");break;case\"trade\":div=/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:props.item.trade?props.item.trade:\"---\"},\"trade\");break;case\"action_by\":div=/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:props.item.action_by},\"action_by\");break;case\"status\":div=/*#__PURE__*/_jsx(\"td\",{className:\"text-center \".concat(cellColorClass(props.item.status)),children:props.item.status},\"status\");break;default:div=/*#__PURE__*/_jsx(_Fragment,{children:editMode?/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:props.item[props.field]},props.field):/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:props.item[props.field]},props.field)});// div = <td>This is a table cell</td>\nbreak;}return div;// return props.if_pdf ? (\n//   <Html>{ReactDOMServer.renderToStaticMarkup(<table>{div}</table>)}</Html>\n// ) : (\n//   div\n// );\n};export default withRouter(TableCell);","map":{"version":3,"names":["React","useState","standardizeFontSize","format_date","withRouter","table_columns","cellColorClass","EditForm","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TableCell","props","editMode","setEditMode","div","children","console","log","itemFieldOptions","field","scope","className","item","loading","href","concat","params","project_id","id","target","number","item_date","text","name","function","origin_form","dangerouslySetInnerHTML","__html","description","attachments","length","map","att","url","rel","responses","res","created_at","created_by","comment","trade","action_by","status"],"sources":["C:/Users/Phil Work/Documents/Coding Projects HD/ProcorePython/frontend/src/issues/Table/TableCell.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { standardizeFontSize, format_date } from \"../../shared/functions\";\n// import ReactDOMServer from \"react-dom/server\";\n// import { Html } from \"react-pdf-html\";\nimport withRouter from \"../../shared/withRouter\";\nimport { table_columns } from \"./columns\";\nimport { cellColorClass } from \"./helpers\";\nimport EditForm from \"./EditForm.jsx\";\n\n\nconst TableCell = (props) => {\n  const [editMode, setEditMode] = useState(false)\n  \n  let div = <tr>TableCell</tr>\n  // return(div)\n  console.log(props.itemFieldOptions)\n  switch (props.field) {\n    case \"number\":\n      div = (\n        <th\n          // rowSpan={props.show_photos ? 2 : 1}\n          key=\"number\"\n          scope=\"row\"\n          className=\"text-center\"\n        >\n          {props.item.loading ? (\n            <span className=\"spinner-grow text-primary\"></span>\n          ) : (\n            <a href={`https://us02.procore.com/${props.params.project_id}/project/observations/items/${props.item.id}/edit`} target=\"_blank\">\n              {props.item.number}\n            </a>\n          )}\n        </th>\n      );\n      break;\n    case \"item_date\":\n      div = (\n        <td key=\"item_date\" className=\"text-center\">\n          {props.item.item_date}\n        </td>\n      );\n      break;\n    case \"description\":\n      div = (\n        <td key=\"description\">\n          <EditForm \n          item={props.item}\n          text={<strong>{props.item.name}</strong>}\n          function=\"edit\"\n          origin_form=\"\"\n          itemFieldOptions={props.itemFieldOptions}\n          />\n          <div className=\"text-justify\" dangerouslySetInnerHTML={{\n              __html: standardizeFontSize(props.item.description),\n            }}\n          ></div>\n          <p>\n            {props.item.attachments.length > 0 ? \"|| \" : \"\"}\n            {props.item.attachments.map((att) => {\n              return (\n                <span>\n                  <a href={att.url} target=\"_blank\" rel=\"noreferrer\">\n                    {att.name}\n                  </a>\n                  ,{\" \"}\n                </span>\n              );\n            })}\n          </p>\n        </td>\n      );\n      break;\n    case \"responses\":\n      div = (\n        <td key=\"responses\">\n          {props.item.responses.map((res) => {\n            return res ? (\n              <div className=\"comment-div text-justify\">\n                <p>\n                  <strong>{format_date(res.created_at)}</strong>{\" \"}\n                  <i>{res.created_by.name}</i>: {res.comment}.{\" \"}\n                  {res.attachments.map((att) => (\n                    <span>\n                      {\"| \"}\n                      <a href={att.url}>{att.name}</a>{\" \"}\n                    </span>\n                  ))}\n                </p>\n              </div>\n            ) : (\n              <></>\n            );\n          })}\n        </td>\n      );\n      break;\n    case \"trade\":\n      div = (\n        <td key=\"trade\" className=\"text-center\">\n          {props.item.trade ? props.item.trade : \"---\"}\n        </td>\n      );\n      break;\n    case \"action_by\":\n      div = (\n        <td key=\"action_by\" className=\"text-center\">\n          {props.item.action_by}\n        </td>\n      );\n      break;\n    case \"status\":\n      div = (\n        <td\n          key=\"status\"\n          className={`text-center ${cellColorClass(\n            props.item.status\n          )}`}\n        >\n          {props.item.status}\n        </td>\n      );\n      break;\n    default:\n      div = (\n        <>\n       {editMode ? \n       <td key={props.field} className=\"text-center\">\n          {props.item[props.field]}\n        </td> :\n        <td key={props.field} className=\"text-center\">\n            {props.item[props.field]}\n        </td>\n      }\n      </>\n      );\n      // div = <td>This is a table cell</td>\n      break;\n  }\n  return div\n  // return props.if_pdf ? (\n  //   <Html>{ReactDOMServer.renderToStaticMarkup(<table>{div}</table>)}</Html>\n  // ) : (\n  //   div\n  // );\n};\n\nexport default withRouter(TableCell);\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,mBAAmB,CAAEC,WAAW,KAAQ,wBAAwB,CACzE;AACA;AACA,MAAO,CAAAC,UAAU,KAAM,yBAAyB,CAChD,OAASC,aAAa,KAAQ,WAAW,CACzC,OAASC,cAAc,KAAQ,WAAW,CAC1C,MAAO,CAAAC,QAAQ,KAAM,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAGtC,KAAM,CAAAC,SAAS,CAAIC,KAAK,EAAK,CAC3B,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CAE/C,GAAI,CAAAiB,GAAG,cAAGT,IAAA,OAAAU,QAAA,CAAI,WAAS,CAAI,CAAC,CAC5B;AACAC,OAAO,CAACC,GAAG,CAACN,KAAK,CAACO,gBAAgB,CAAC,CACnC,OAAQP,KAAK,CAACQ,KAAK,EACjB,IAAK,QAAQ,CACXL,GAAG,cACDT,IAAA,OAGEe,KAAK,CAAC,KAAK,CACXC,SAAS,CAAC,aAAa,CAAAN,QAAA,CAEtBJ,KAAK,CAACW,IAAI,CAACC,OAAO,cACjBlB,IAAA,SAAMgB,SAAS,CAAC,2BAA2B,CAAO,CAAC,cAEnDhB,IAAA,MAAGmB,IAAI,6BAAAC,MAAA,CAA8Bd,KAAK,CAACe,MAAM,CAACC,UAAU,iCAAAF,MAAA,CAA+Bd,KAAK,CAACW,IAAI,CAACM,EAAE,SAAQ,CAACC,MAAM,CAAC,QAAQ,CAAAd,QAAA,CAC7HJ,KAAK,CAACW,IAAI,CAACQ,MAAM,CACjB,CACJ,EAVG,QAWF,CACL,CACD,MACF,IAAK,WAAW,CACdhB,GAAG,cACDT,IAAA,OAAoBgB,SAAS,CAAC,aAAa,CAAAN,QAAA,CACxCJ,KAAK,CAACW,IAAI,CAACS,SAAS,EADf,WAEJ,CACL,CACD,MACF,IAAK,aAAa,CAChBjB,GAAG,cACDP,KAAA,OAAAQ,QAAA,eACEV,IAAA,CAACF,QAAQ,EACTmB,IAAI,CAAEX,KAAK,CAACW,IAAK,CACjBU,IAAI,cAAE3B,IAAA,WAAAU,QAAA,CAASJ,KAAK,CAACW,IAAI,CAACW,IAAI,CAAS,CAAE,CACzCC,QAAQ,CAAC,MAAM,CACfC,WAAW,CAAC,EAAE,CACdjB,gBAAgB,CAAEP,KAAK,CAACO,gBAAiB,CACxC,CAAC,cACFb,IAAA,QAAKgB,SAAS,CAAC,cAAc,CAACe,uBAAuB,CAAE,CACnDC,MAAM,CAAEvC,mBAAmB,CAACa,KAAK,CAACW,IAAI,CAACgB,WAAW,CACpD,CAAE,CACE,CAAC,cACP/B,KAAA,MAAAQ,QAAA,EACGJ,KAAK,CAACW,IAAI,CAACiB,WAAW,CAACC,MAAM,CAAG,CAAC,CAAG,KAAK,CAAG,EAAE,CAC9C7B,KAAK,CAACW,IAAI,CAACiB,WAAW,CAACE,GAAG,CAAEC,GAAG,EAAK,CACnC,mBACEnC,KAAA,SAAAQ,QAAA,eACEV,IAAA,MAAGmB,IAAI,CAAEkB,GAAG,CAACC,GAAI,CAACd,MAAM,CAAC,QAAQ,CAACe,GAAG,CAAC,YAAY,CAAA7B,QAAA,CAC/C2B,GAAG,CAACT,IAAI,CACR,CAAC,IACH,CAAC,GAAG,EACD,CAAC,CAEX,CAAC,CAAC,EACD,CAAC,GAxBE,aAyBJ,CACL,CACD,MACF,IAAK,WAAW,CACdnB,GAAG,cACDT,IAAA,OAAAU,QAAA,CACGJ,KAAK,CAACW,IAAI,CAACuB,SAAS,CAACJ,GAAG,CAAEK,GAAG,EAAK,CACjC,MAAO,CAAAA,GAAG,cACRzC,IAAA,QAAKgB,SAAS,CAAC,0BAA0B,CAAAN,QAAA,cACvCR,KAAA,MAAAQ,QAAA,eACEV,IAAA,WAAAU,QAAA,CAAShB,WAAW,CAAC+C,GAAG,CAACC,UAAU,CAAC,CAAS,CAAC,CAAC,GAAG,cAClD1C,IAAA,MAAAU,QAAA,CAAI+B,GAAG,CAACE,UAAU,CAACf,IAAI,CAAI,CAAC,KAAE,CAACa,GAAG,CAACG,OAAO,CAAC,GAAC,CAAC,GAAG,CAC/CH,GAAG,CAACP,WAAW,CAACE,GAAG,CAAEC,GAAG,eACvBnC,KAAA,SAAAQ,QAAA,EACG,IAAI,cACLV,IAAA,MAAGmB,IAAI,CAAEkB,GAAG,CAACC,GAAI,CAAA5B,QAAA,CAAE2B,GAAG,CAACT,IAAI,CAAI,CAAC,CAAC,GAAG,EAChC,CACP,CAAC,EACD,CAAC,CACD,CAAC,cAEN5B,IAAA,CAAAI,SAAA,GAAI,CACL,CACH,CAAC,CAAC,EAlBI,WAmBJ,CACL,CACD,MACF,IAAK,OAAO,CACVK,GAAG,cACDT,IAAA,OAAgBgB,SAAS,CAAC,aAAa,CAAAN,QAAA,CACpCJ,KAAK,CAACW,IAAI,CAAC4B,KAAK,CAAGvC,KAAK,CAACW,IAAI,CAAC4B,KAAK,CAAG,KAAK,EADtC,OAEJ,CACL,CACD,MACF,IAAK,WAAW,CACdpC,GAAG,cACDT,IAAA,OAAoBgB,SAAS,CAAC,aAAa,CAAAN,QAAA,CACxCJ,KAAK,CAACW,IAAI,CAAC6B,SAAS,EADf,WAEJ,CACL,CACD,MACF,IAAK,QAAQ,CACXrC,GAAG,cACDT,IAAA,OAEEgB,SAAS,gBAAAI,MAAA,CAAiBvB,cAAc,CACtCS,KAAK,CAACW,IAAI,CAAC8B,MACb,CAAC,CAAG,CAAArC,QAAA,CAEHJ,KAAK,CAACW,IAAI,CAAC8B,MAAM,EALd,QAMF,CACL,CACD,MACF,QACEtC,GAAG,cACDT,IAAA,CAAAI,SAAA,EAAAM,QAAA,CACAH,QAAQ,cACTP,IAAA,OAAsBgB,SAAS,CAAC,aAAa,CAAAN,QAAA,CACzCJ,KAAK,CAACW,IAAI,CAACX,KAAK,CAACQ,KAAK,CAAC,EADlBR,KAAK,CAACQ,KAEV,CAAC,cACLd,IAAA,OAAsBgB,SAAS,CAAC,aAAa,CAAAN,QAAA,CACxCJ,KAAK,CAACW,IAAI,CAACX,KAAK,CAACQ,KAAK,CAAC,EADnBR,KAAK,CAACQ,KAEX,CAAC,CAEL,CACD,CACD;AACA,MACJ,CACA,MAAO,CAAAL,GAAG,CACV;AACA;AACA;AACA;AACA;AACF,CAAC,CAED,cAAe,CAAAd,UAAU,CAACU,SAAS,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
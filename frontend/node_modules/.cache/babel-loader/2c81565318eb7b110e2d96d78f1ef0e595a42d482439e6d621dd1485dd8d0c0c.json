{"ast":null,"code":"import React,{useState}from\"react\";import{standardizeFontSize,format_date}from\"../../shared/functions.js\";// import ReactDOMServer from \"react-dom/server\";\n// import { Html } from \"react-pdf-html\";\nimport withRouter from\"../../shared/withRouter.js\";import{table_columns}from\"./columns.js\";import{cellColorClass}from\"./helpers.js\";import EditForm from\"./EditForm.jsx\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const editMode=true;const TableEditCell=props=>{let div=/*#__PURE__*/_jsx(\"tr\",{children:\"TableCell\"});// return(div)\nconsole.log(props.itemFieldOptions);switch(props.field){case\"number\":div=/*#__PURE__*/_jsx(\"th\",{scope:\"row\",className:\"text-center\",children:props.item.loading?/*#__PURE__*/_jsx(\"span\",{className:\"spinner-grow text-primary\"}):/*#__PURE__*/_jsx(\"a\",{href:\"https://us02.procore.com/\".concat(props.params.project_id,\"/project/observations/items/\").concat(props.item.id,\"/edit\"),target:\"_blank\",children:props.item.number})},\"number\");break;case\"item_date\":div=/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:props.item.item_date},\"item_date\");break;case\"description\":div=/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(EditForm,{item:props.item,text:/*#__PURE__*/_jsx(\"strong\",{children:props.item.name}),function:\"edit\",origin_form:\"\",itemFieldOptions:props.itemFieldOptions}),/*#__PURE__*/_jsx(\"div\",{className:\"text-justify\",dangerouslySetInnerHTML:{__html:standardizeFontSize(props.item.description)}}),/*#__PURE__*/_jsxs(\"p\",{children:[props.item.attachments.length>0?\"|| \":\"\",props.item.attachments.map(att=>{return/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"a\",{href:att.url,target:\"_blank\",rel:\"noreferrer\",children:att.name}),\",\",\" \"]});})]})]},\"description\");break;case\"responses\":div=/*#__PURE__*/_jsx(\"td\",{children:props.item.responses.map(res=>{return res?/*#__PURE__*/_jsx(\"div\",{className:\"comment-div text-justify\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:format_date(res.created_at)}),\" \",/*#__PURE__*/_jsx(\"i\",{children:res.created_by.name}),\": \",res.comment,\".\",\" \",res.attachments.map(att=>/*#__PURE__*/_jsxs(\"span\",{children:[\"| \",/*#__PURE__*/_jsx(\"a\",{href:att.url,children:att.name}),\" \"]}))]})}):/*#__PURE__*/_jsx(_Fragment,{});})},\"responses\");break;case\"trade\":div=/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:props.item.trade?props.item.trade:\"---\"},\"trade\");break;case\"action_by\":div=/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:props.item.action_by},\"action_by\");break;case\"status\":div=/*#__PURE__*/_jsx(\"td\",{className:\"text-center \".concat(cellColorClass(props.item.status)),children:editMode?/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",style:{width:\"20%\"},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"status\",className:\"form-select\",size:\"1\",value:props.item.status,onChange:e=>console.log(e)// value={formState.status}\n// onChange={handleInputChange}\n,children:[/*#__PURE__*/_jsx(\"option\",{value:\"initiated\",children:\"Initiated\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ready_for_review\",children:\"Ready For Review\"}),/*#__PURE__*/_jsx(\"option\",{value:\"closed\",children:\"Closed\"})]})]}):props.item.status},\"status\");break;default:div=/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:props.item[props.field]},props.field)});// div = <td>This is a table cell</td>\nbreak;}return div;// return props.if_pdf ? (\n//   <Html>{ReactDOMServer.renderToStaticMarkup(<table>{div}</table>)}</Html>\n// ) : (\n//   div\n// );\n};export default withRouter(TableEditCell);","map":{"version":3,"names":["React","useState","standardizeFontSize","format_date","withRouter","table_columns","cellColorClass","EditForm","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","editMode","TableEditCell","props","div","children","console","log","itemFieldOptions","field","scope","className","item","loading","href","concat","params","project_id","id","target","number","item_date","text","name","function","origin_form","dangerouslySetInnerHTML","__html","description","attachments","length","map","att","url","rel","responses","res","created_at","created_by","comment","trade","action_by","status","style","width","size","value","onChange","e"],"sources":["C:/Users/Phil Work/Documents/Coding Projects HD/ProcorePython/frontend/src/issues/Table/TableEditCell.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { standardizeFontSize, format_date } from \"../../shared/functions.js\";\n// import ReactDOMServer from \"react-dom/server\";\n// import { Html } from \"react-pdf-html\";\nimport withRouter from \"../../shared/withRouter.js\";\nimport { table_columns } from \"./columns.js\";\nimport { cellColorClass } from \"./helpers.js\";\nimport EditForm from \"./EditForm.jsx\";\n\nconst editMode = true\n\nconst TableEditCell = (props) => {\n\n  let div = <tr>TableCell</tr>\n  // return(div)\n  console.log(props.itemFieldOptions)\n  switch (props.field) {\n    case \"number\":\n      div = (\n        <th\n          // rowSpan={props.show_photos ? 2 : 1}\n          key=\"number\"\n          scope=\"row\"\n          className=\"text-center\"\n        >\n          {props.item.loading ? (\n            <span className=\"spinner-grow text-primary\"></span>\n          ) : (\n            <a href={`https://us02.procore.com/${props.params.project_id}/project/observations/items/${props.item.id}/edit`} target=\"_blank\">\n              {props.item.number}\n            </a>\n          )}\n        </th>\n      );\n      break;\n    case \"item_date\":\n      div = (\n        <td key=\"item_date\" className=\"text-center\">\n          {props.item.item_date}\n        </td>\n      );\n      break;\n    case \"description\":\n      div = (\n        <td key=\"description\">\n          <EditForm \n          item={props.item}\n          text={<strong>{props.item.name}</strong>}\n          function=\"edit\"\n          origin_form=\"\"\n          itemFieldOptions={props.itemFieldOptions}\n          />\n          <div className=\"text-justify\" dangerouslySetInnerHTML={{\n              __html: standardizeFontSize(props.item.description),\n            }}\n          ></div>\n          <p>\n            {props.item.attachments.length > 0 ? \"|| \" : \"\"}\n            {props.item.attachments.map((att) => {\n              return (\n                <span>\n                  <a href={att.url} target=\"_blank\" rel=\"noreferrer\">\n                    {att.name}\n                  </a>\n                  ,{\" \"}\n                </span>\n              );\n            })}\n          </p>\n        </td>\n      );\n      break;\n    case \"responses\":\n      div = (\n        <td key=\"responses\">\n          {props.item.responses.map((res) => {\n            return res ? (\n              <div className=\"comment-div text-justify\">\n                <p>\n                  <strong>{format_date(res.created_at)}</strong>{\" \"}\n                  <i>{res.created_by.name}</i>: {res.comment}.{\" \"}\n                  {res.attachments.map((att) => (\n                    <span>\n                      {\"| \"}\n                      <a href={att.url}>{att.name}</a>{\" \"}\n                    </span>\n                  ))}\n                </p>\n              </div>\n            ) : (\n              <></>\n            );\n          })}\n        </td>\n      );\n      break;\n    case \"trade\":\n      div = (\n        <td key=\"trade\" className=\"text-center\">\n          {props.item.trade ? props.item.trade : \"---\"}\n        </td>\n      );\n      break;\n    case \"action_by\":\n      div = (\n        <td key=\"action_by\" className=\"text-center\">\n          {props.item.action_by}\n        </td>\n      );\n      break;\n    case \"status\":\n      div = (\n        <td\n          key=\"status\"\n          className={`text-center ${cellColorClass(\n            props.item.status\n          )}`}\n        >\n          {editMode ? <div className=\"form-group\" style={{ width: \"20%\" }}>\n                <label>Status</label>\n                <select\n                  name=\"status\"\n                  className=\"form-select\"\n                  size=\"1\"\n                  value={props.item.status}\n                  onChange={(e)=>console.log(e)}\n                  // value={formState.status}\n                  // onChange={handleInputChange}\n                >\n                  <option value=\"initiated\">Initiated</option>\n                  <option value=\"ready_for_review\">Ready For Review</option>\n                  <option value=\"closed\">Closed</option>\n                </select>\n              </div> : props.item.status}\n        </td>\n      );\n      break;\n    default:\n      div = (\n        <>\n       <td key={props.field} className=\"text-center\">\n          {props.item[props.field]}\n        </td> \n      </>\n      );\n      // div = <td>This is a table cell</td>\n      break;\n  }\n  return div\n  // return props.if_pdf ? (\n  //   <Html>{ReactDOMServer.renderToStaticMarkup(<table>{div}</table>)}</Html>\n  // ) : (\n  //   div\n  // );\n};\n\nexport default withRouter(TableEditCell);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
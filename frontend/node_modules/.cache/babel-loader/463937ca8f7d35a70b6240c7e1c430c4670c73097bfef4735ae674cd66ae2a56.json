{"ast":null,"code":"import React from\"react\";import FilterDropDown from\"./FilterDropDown\";import{useState,useEffect}from\"react\";import withRouter from\"../../../shared/withRouter\";import{apply_all_filters}from\"../helpers\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FilterForm=props=>{const[query,setQuery]=useState(\"\");const[filterSet,setFilterSet]=useState([]);// useEffect(() => {\n//   if(props.obs_filtered.length === 0){\n//     props.apply_obs_filters(props.observations, props.obs_filters_set, '');\n//   }\n// }, [props.observations, props.obs_filters_set]);\nconst onSubmit=e=>{e.preventDefault();const filteredItems=apply_all_filters(props.items,filterSet,query);props.setFilteredItems(filteredItems);};return/*#__PURE__*/_jsxs(\"form\",{className:\"toolbar-section\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Table Filters \"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Apply Filters\",className:\"btn btn-sm btn-primary\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-panel\",children:props.columns.map(col=>/*#__PURE__*/_jsx(FilterDropDown,{column:col,items:props.items,filterSet:filterSet,setFilterSet:setFilterSet},col.name))}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"search-bar\",placeholder:\"Search\",value:query,onChange:e=>setQuery(e.target.value)})})})]});};export default withRouter(FilterForm);","map":{"version":3,"names":["React","FilterDropDown","useState","useEffect","withRouter","apply_all_filters","jsx","_jsx","jsxs","_jsxs","FilterForm","props","query","setQuery","filterSet","setFilterSet","onSubmit","e","preventDefault","filteredItems","items","setFilteredItems","className","children","type","value","columns","map","col","column","name","id","placeholder","onChange","target"],"sources":["C:/Users/Phil Work/Documents/Coding Projects HD/ProcorePython/frontend/src/issues/Table/toolbar/FilterForm.js"],"sourcesContent":["import React from \"react\";\nimport FilterDropDown from \"./FilterDropDown\";\nimport { useState, useEffect } from \"react\";\nimport withRouter from \"../../../shared/withRouter\";\nimport { apply_all_filters } from \"../helpers\";\n\n\nconst FilterForm = (props) => {\n  const [query, setQuery] = useState(\"\");\n  const [filterSet, setFilterSet] = useState([])\n\n  // useEffect(() => {\n  //   if(props.obs_filtered.length === 0){\n  //     props.apply_obs_filters(props.observations, props.obs_filters_set, '');\n  //   }\n  // }, [props.observations, props.obs_filters_set]);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    const filteredItems = apply_all_filters(props.items, filterSet, query);\n    props.setFilteredItems(filteredItems)\n  };\n\n  return (\n    <form className=\"toolbar-section\" onSubmit={onSubmit}>\n      <div className=\"d-flex justify-content-between\">\n        <div>\n          <strong>Table Filters </strong>\n        </div>\n        <div>\n          <span>\n            <input\n              type=\"submit\"\n              value=\"Apply Filters\"\n              className=\"btn btn-sm btn-primary\"\n            />\n          </span>\n        </div>\n      </div>\n      <div className=\"filter-panel\">\n        {props.columns.map((col) => (\n          <FilterDropDown\n            key={col.name}\n            column={col}\n            items={props.items}\n            filterSet={filterSet}\n            setFilterSet={setFilterSet}\n          />\n        ))}\n      </div>\n      <div>\n        <div className=\"form-group\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"search-bar\"\n            placeholder=\"Search\"\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n          />\n        </div>\n      </div>\n    </form>\n  );\n};\n\nexport default withRouter(FilterForm)"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,UAAU,KAAM,4BAA4B,CACnD,OAASC,iBAAiB,KAAQ,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAG/C,KAAM,CAAAC,UAAU,CAAIC,KAAK,EAAK,CAC5B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACY,SAAS,CAAEC,YAAY,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAE9C;AACA;AACA;AACA;AACA;AAEA,KAAM,CAAAc,QAAQ,CAAIC,CAAC,EAAK,CACtBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,KAAM,CAAAC,aAAa,CAAGd,iBAAiB,CAACM,KAAK,CAACS,KAAK,CAAEN,SAAS,CAAEF,KAAK,CAAC,CACtED,KAAK,CAACU,gBAAgB,CAACF,aAAa,CAAC,CACvC,CAAC,CAED,mBACEV,KAAA,SAAMa,SAAS,CAAC,iBAAiB,CAACN,QAAQ,CAAEA,QAAS,CAAAO,QAAA,eACnDd,KAAA,QAAKa,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7ChB,IAAA,QAAAgB,QAAA,cACEhB,IAAA,WAAAgB,QAAA,CAAQ,gBAAc,CAAQ,CAAC,CAC5B,CAAC,cACNhB,IAAA,QAAAgB,QAAA,cACEhB,IAAA,SAAAgB,QAAA,cACEhB,IAAA,UACEiB,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAC,eAAe,CACrBH,SAAS,CAAC,wBAAwB,CACnC,CAAC,CACE,CAAC,CACJ,CAAC,EACH,CAAC,cACNf,IAAA,QAAKe,SAAS,CAAC,cAAc,CAAAC,QAAA,CAC1BZ,KAAK,CAACe,OAAO,CAACC,GAAG,CAAEC,GAAG,eACrBrB,IAAA,CAACN,cAAc,EAEb4B,MAAM,CAAED,GAAI,CACZR,KAAK,CAAET,KAAK,CAACS,KAAM,CACnBN,SAAS,CAAEA,SAAU,CACrBC,YAAY,CAAEA,YAAa,EAJtBa,GAAG,CAACE,IAKV,CACF,CAAC,CACC,CAAC,cACNvB,IAAA,QAAAgB,QAAA,cACEhB,IAAA,QAAKe,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBhB,IAAA,UACEiB,IAAI,CAAC,MAAM,CACXF,SAAS,CAAC,cAAc,CACxBS,EAAE,CAAC,YAAY,CACfC,WAAW,CAAC,QAAQ,CACpBP,KAAK,CAAEb,KAAM,CACbqB,QAAQ,CAAGhB,CAAC,EAAKJ,QAAQ,CAACI,CAAC,CAACiB,MAAM,CAACT,KAAK,CAAE,CAC3C,CAAC,CACC,CAAC,CACH,CAAC,EACF,CAAC,CAEX,CAAC,CAED,cAAe,CAAArB,UAAU,CAACM,UAAU,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useEffect}from\"react\";import{useState}from\"react\";import{sort_array}from\"../../../functions/functions\";import{setObsColumns,setObsShowPhotos}from\"../../redux/actions/obs_actions\";import{bindActionCreators}from\"redux\";import{connect}from\"react-redux\";import{BsArrowUp,BsArrowDown}from\"react-icons/bs\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ColumnCheckBoxForm=props=>{const[checkFields,setCheckFields]=useState([]);useEffect(()=>{// const this_check_fields = []\n// props.columns.forEach((col)=>{\n//   this_check_fields.push({name: col.name, label: col.label, show: true})\n// })\nsetCheckFields(props.columns);},[]);const toggleCheck=e=>{const changedCheckFields=[...checkFields];const ind=changedCheckFields.findIndex(checkField=>checkField.name===e.target.name);changedCheckFields[ind].show=e.target.checked;setCheckFields(changedCheckFields);};const changeOrder=(e,if_up)=>{let changedCheckFields=[...checkFields];const ind=changedCheckFields.findIndex(checkField=>checkField.name===e.target.id);const pos=parseFloat(if_up?-1.5:1.5);changedCheckFields[ind].position=parseFloat(changedCheckFields[ind].position)+pos;changedCheckFields=sort_array(changedCheckFields,\"position\",false);for(let i=0;i<changedCheckFields.length;i++){changedCheckFields[i].position=i+1;}setCheckFields(changedCheckFields);};const onSubmit=e=>{e.preventDefault();console.log(\"Submitting Columns\");props.setObsColumns(checkFields);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{className:\"toolbar-section\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Columns Settings \"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Apply Settings\",className:\"btn btn-sm btn-primary\"})})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"checkbox-container overflow-auto form-control\",style:{height:\"150px\"},children:/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsx(\"tbody\",{children:checkFields.map(checkField=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(BsArrowUp,{id:checkField.name,style:{cursor:\"pointer\"},onClick:e=>changeOrder(e,true)})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(BsArrowDown,{id:checkField.name,style:{cursor:\"pointer\"},onClick:e=>changeOrder(e,false)})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:checkField.name,name:checkField.name,checked:checkField.show,onChange:toggleCheck})}),/*#__PURE__*/_jsx(\"td\",{children:checkField.label})]},checkField.name))})})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:props.obs_show_photos,id:\"show-photos\",onChange:()=>props.setObsShowPhotos()}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"show-photos\",children:\"Show Photos Under Items\"})]})]})});};function mapStateToProps(state){return{obs_columns:state.obs_columns,obs_show_photos:state.obs_show_photos};}function mapDispatchToProps(dispatch){return bindActionCreators({setObsColumns,setObsShowPhotos},dispatch);}export default connect(mapStateToProps,mapDispatchToProps)(ColumnCheckBoxForm);","map":{"version":3,"names":["React","useEffect","useState","sort_array","setObsColumns","setObsShowPhotos","bindActionCreators","connect","BsArrowUp","BsArrowDown","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ColumnCheckBoxForm","props","checkFields","setCheckFields","columns","toggleCheck","e","changedCheckFields","ind","findIndex","checkField","name","target","show","checked","changeOrder","if_up","id","pos","parseFloat","position","i","length","onSubmit","preventDefault","console","log","children","className","type","value","style","height","map","cursor","onClick","onChange","label","obs_show_photos","htmlFor","mapStateToProps","state","obs_columns","mapDispatchToProps","dispatch"],"sources":["C:/Users/Phil Work/Documents/Coding Projects HD/ProcorePython/frontend/src/issues/Table/toolbar/ColumnCheckBoxForm.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { sort_array } from \"../../../functions/functions\";\nimport { setObsColumns, setObsShowPhotos } from \"../../redux/actions/obs_actions\";\nimport { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { BsArrowUp, BsArrowDown } from \"react-icons/bs\";\n\nconst ColumnCheckBoxForm = (props) => {\n  const [checkFields, setCheckFields] = useState([]);\n\n  useEffect(() => {\n    // const this_check_fields = []\n    // props.columns.forEach((col)=>{\n    //   this_check_fields.push({name: col.name, label: col.label, show: true})\n    // })\n    setCheckFields(props.columns);\n  }, []);\n\n  const toggleCheck = (e) => {\n    const changedCheckFields = [...checkFields];\n    const ind = changedCheckFields.findIndex(\n      (checkField) => checkField.name === e.target.name\n    );\n    changedCheckFields[ind].show = e.target.checked;\n    setCheckFields(changedCheckFields);\n  };\n\n  const changeOrder = (e, if_up) => {\n    let changedCheckFields = [...checkFields];\n    const ind = changedCheckFields.findIndex(\n      (checkField) => checkField.name === e.target.id\n    );\n    const pos = parseFloat(if_up ? -1.5 : 1.5);\n    changedCheckFields[ind].position =\n      parseFloat(changedCheckFields[ind].position) + pos;\n    changedCheckFields = sort_array(changedCheckFields, \"position\", false);\n    for (let i = 0; i < changedCheckFields.length; i++) {\n      changedCheckFields[i].position = i + 1;\n    }\n    setCheckFields(changedCheckFields);\n  };\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    console.log(\"Submitting Columns\");\n    props.setObsColumns(checkFields);\n  };\n\n  return (\n    <>\n      <form className=\"toolbar-section\" onSubmit={onSubmit}>\n        <div className=\"d-flex justify-content-between\">\n          <div>\n            <strong>Columns Settings </strong>\n          </div>\n          <div>\n            <span>\n              <input\n                type=\"submit\"\n                value=\"Apply Settings\"\n                className=\"btn btn-sm btn-primary\"\n              />\n            </span>\n          </div>\n        </div>\n        <br></br>\n        <div\n          className=\"checkbox-container overflow-auto form-control\"\n          style={{ height: \"150px\" }}\n        >\n          <table>\n            <tbody>\n              {checkFields.map((checkField) => (\n                <tr key={checkField.name}>\n                  {/* <td><input type='text' style={{width: '2em', textAlign: 'center' }}/></td> */}\n                  <td>\n                    <BsArrowUp\n                      id={checkField.name}\n                      style={{ cursor: \"pointer\" }}\n                      onClick={(e) => changeOrder(e, true)}\n                    />\n                  </td>\n                  <td>\n                    <BsArrowDown\n                      id={checkField.name}\n                      style={{ cursor: \"pointer\" }}\n                      onClick={(e) => changeOrder(e, false)}\n                    />\n                  </td>\n                  <td>\n                    <input\n                      type=\"checkbox\"\n                      id={checkField.name}\n                      name={checkField.name}\n                      checked={checkField.show}\n                      onChange={toggleCheck}\n                    />\n                  </td>\n                  <td>{checkField.label}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n        <br></br>\n        <div className=\"form-check\">\n          <input\n            className=\"form-check-input\"\n            type=\"checkbox\"\n            checked={props.obs_show_photos}\n            id=\"show-photos\"\n            onChange={() => props.setObsShowPhotos()}\n          />\n          <label className=\"form-check-label\" htmlFor=\"show-photos\">\n            Show Photos Under Items\n          </label>\n        </div>\n      </form>\n    </>\n  );\n};\n\nfunction mapStateToProps(state) {\n  return {\n    obs_columns: state.obs_columns,\n    obs_show_photos: state.obs_show_photos,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({ setObsColumns, setObsShowPhotos }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ColumnCheckBoxForm);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
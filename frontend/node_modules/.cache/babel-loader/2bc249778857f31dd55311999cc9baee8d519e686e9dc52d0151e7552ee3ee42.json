{"ast":null,"code":"import React from\"react\";export function format_date(date_string){const d=new Date(date_string);return d.toISOString().split(\"T\")[0];}export function sort_by_column(observations,column_name,if_desc){const dir=if_desc?[-1,1]:[1,-1];let obs_array=[];observations.forEach(obs=>{obs_array.push({field:obs[column_name],obj:obs});});obs_array.sort((a,b)=>a.field>b.field?dir[0]:b.field>a.field?dir[1]:0);let new_observations=[];obs_array.forEach(el=>new_observations.push(el.obj));return new_observations;}export function sort_array(array,field,if_desc){const dir=if_desc?[-1,1]:[1,-1];return array.sort((a,b)=>a[field]>b[field]?dir[0]:b[field]>a[field]?dir[1]:0);}export function shorten_url(name_string){if(name_string.length>23){return name_string.slice(0,20)+\"...\"+name_string.slice(-5);}else{return name_string;}}export function standardizeFontSize(BodyText){let newBodyText;const re=new RegExp(\"font-size:.*;\",\"g\");const re2=new RegExp(\"font-family:.*;\",\"g\");newBodyText=BodyText?BodyText.replaceAll(re,\"\"):\"\";newBodyText=BodyText?BodyText.replaceAll(re2,\"\"):\"\";return newBodyText;}export function openLink(url){const headers={'Authorization':\"Bearer #{procore_token['access_token']}\",'Procore-Company-Id':'562949953436954'};const request=new Request(url,{headers:headers});const newTab=window.open('','_blank');fetch(request).then(response=>response.text()).then(data=>{// Handle the response data\nnewTab.document.write(data);}).catch(error=>{// Handle any errors\nconsole.error('Error:',error);});}export function checkObs(obs,filters){// return Object.entries(filters).every(([field, filter])=>checkObsOneFilter(filter, obs[field]))\nconsole.log(\"checking obs\");Object.keys(filters).forEach(field=>{console.log(field);console.log(obs[field]);console.log(filters[field]);console.log(filters[field].includes(obs[field]));});console.log(Object.keys(filters).every(field=>filters[field].includes(obs[field])));return Object.keys(filters).every(field=>filters[field].includes(obs[field]));}export function statusColor(cellContent){switch(cellContent.toLowerCase()){case\"closed\":return\"green\";case\"ready_for_review\":return\"blue\";case\"initiated\":return\"darkred\";default:return\"\";}}","map":{"version":3,"names":["React","format_date","date_string","d","Date","toISOString","split","sort_by_column","observations","column_name","if_desc","dir","obs_array","forEach","obs","push","field","obj","sort","a","b","new_observations","el","sort_array","array","shorten_url","name_string","length","slice","standardizeFontSize","BodyText","newBodyText","re","RegExp","re2","replaceAll","openLink","url","headers","request","Request","newTab","window","open","fetch","then","response","text","data","document","write","catch","error","console","checkObs","filters","log","Object","keys","includes","every","statusColor","cellContent","toLowerCase"],"sources":["C:/Users/Phil Work/Documents/Coding Projects HD/ProcorePython/frontend/src/shared/functions.js"],"sourcesContent":["import React from \"react\";\r\n\r\nexport function format_date(date_string) {\r\n  const d = new Date(date_string);\r\n  return d.toISOString().split(\"T\")[0];\r\n}\r\n\r\nexport function sort_by_column(observations, column_name, if_desc) {\r\n  const dir = if_desc ? [-1, 1] : [1, -1];\r\n  let obs_array = [];\r\n  observations.forEach((obs) => {\r\n    obs_array.push({ field: obs[column_name], obj: obs });\r\n  });\r\n  obs_array.sort((a, b) =>\r\n    a.field > b.field ? dir[0] : b.field > a.field ? dir[1] : 0\r\n  );\r\n  let new_observations = [];\r\n  obs_array.forEach((el) => new_observations.push(el.obj));\r\n  return new_observations;\r\n}\r\n\r\nexport function sort_array(array, field, if_desc) {\r\n  const dir = if_desc ? [-1, 1] : [1, -1];\r\n  return array.sort((a, b) =>\r\n    a[field] > b[field] ? dir[0] : b[field] > a[field] ? dir[1] : 0\r\n  );\r\n}\r\n\r\nexport function shorten_url(name_string) {\r\n  if (name_string.length > 23) {\r\n    return name_string.slice(0, 20) + \"...\" + name_string.slice(-5);\r\n  } else {\r\n    return name_string;\r\n  }\r\n}\r\n\r\nexport function standardizeFontSize(BodyText) {\r\n  let newBodyText;\r\n  const re = new RegExp(\"font-size:.*;\", \"g\");\r\n  const re2 = new RegExp(\"font-family:.*;\", \"g\");\r\n  newBodyText = BodyText ? BodyText.replaceAll(re, \"\") : \"\";\r\n  newBodyText = BodyText ? BodyText.replaceAll(re2, \"\") : \"\";\r\n  return newBodyText\r\n}\r\n\r\nexport function openLink(url) {\r\n  const headers = { 'Authorization' : \"Bearer #{procore_token['access_token']}\", 'Procore-Company-Id' : '562949953436954'  }\r\n  const request = new Request(url, { headers: headers });\r\n  const newTab = window.open('', '_blank');\r\n  fetch(request)\r\n  .then(response => response.text())\r\n  .then(data => {\r\n    // Handle the response data\r\n    newTab.document.write(data);\r\n  })\r\n  .catch(error => {\r\n    // Handle any errors\r\n    console.error('Error:', error);\r\n  });\r\n}\r\n\r\nexport function checkObs(obs, filters) {\r\n  // return Object.entries(filters).every(([field, filter])=>checkObsOneFilter(filter, obs[field]))\r\n  console.log(\"checking obs\");\r\n  Object.keys(filters).forEach((field) => {\r\n    console.log(field);\r\n    console.log(obs[field]);\r\n    console.log(filters[field]);\r\n    console.log(filters[field].includes(obs[field]));\r\n  });\r\n  console.log(\r\n    Object.keys(filters).every((field) => filters[field].includes(obs[field]))\r\n  );\r\n  return Object.keys(filters).every((field) =>\r\n    filters[field].includes(obs[field])\r\n  );\r\n}\r\n\r\nexport function statusColor(cellContent) {\r\n  switch (cellContent.toLowerCase()) {\r\n    case \"closed\":\r\n      return \"green\";\r\n    case \"ready_for_review\":\r\n      return \"blue\";\r\n    case \"initiated\":\r\n      return \"darkred\";\r\n    default:\r\n      return \"\";\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}